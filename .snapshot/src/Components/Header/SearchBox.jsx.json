[{"id":"1670075458118","desc":"Enter","value":"import React from \"react\";\r\nimport SearchIcon from \"@mui/icons-material/Search\";\r\nimport NotificationsActiveIcon from \"@mui/icons-material/NotificationsActive\";\r\nimport ArrowDropDownIcon from \"@mui/icons-material/ArrowDropDown\";\r\nimport \"../../styles/Header/search.scss\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { changeSearchValue } from \"../../Store/Reducer/searchReducer\";\r\nimport {Link} from \"react-router-dom\"\r\nimport axios from \"axios\";\r\nimport requests from \"../../Requests\";\r\nimport { UserAuth } from \"../../context/AuthContext\";\r\n\r\nconst Search = () => {\r\n  const {user,logOut} = UserAuth()\r\n  console.log(user);\r\n\r\n  const navigate = useNavigate();\r\n  const searchValue = useSelector((state) => state.searchValue.value);\r\n  const dispatch = useDispatch();\r\n\r\n  console.log(\"===> \", searchValue);\r\n\r\n  const searchMulti = (value) => {\r\n    axios\r\n      .get(requests.requestSearch, {\r\n        params: {\r\n          query: value,\r\n          include_adult: false,\r\n        },\r\n      })\r\n      .then((response) => {\r\n        const data = {\r\n          title: value,\r\n          movies: response.data.results.filter(\r\n            (item) => item.backdrop_path != null\r\n          ),\r\n        };\r\n        dispatch(changeSearchValue(data));\r\n      });\r\n  };\r\n\r\n\r\n\r\n  const handleLogOut = async ()=>{\r\n    try{\r\n      await logOut()\r\n      navigate(\"/\")\r\n    }\r\n    catch(error){\r\n      console.log(error);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n{user?.email ? <div className=\"right\">\r\n      <input\r\n        type=\"search\"\r\n        placeholder=\"Search...\"\r\n        onChange={(e) => {\r\n          const value = String(e.target.value);\r\n\r\n          navigate(value.length > 0 ? \"/search\" : \"/\");\r\n\r\n          if (value.length > 1) {\r\n            searchMulti(value);\r\n          }\r\n        \r\n        }}\r\n      />\r\n\r\n      <button>\r\n        <SearchIcon className=\"icon\" />\r\n      </button>\r\n      <NotificationsActiveIcon className=\"icon\" />\r\n      <div className=\"profile\">\r\n        <ArrowDropDownIcon className=\"icon\" />\r\n        <div className=\"options \">\r\n          <span>Settings</span>\r\n          {/* <Link to=\"/login\"> */}\r\n          <span>Account</span>\r\n          {/* </Link> */}\r\n          \r\n\r\n         <Link to=\"/login\">\r\n         <span onClick={handleLogOut}>Log Out</span>\r\n         </Link>\r\n        \r\n        \r\n          \r\n        </div>\r\n      </div>\r\n    </div> : <div className=\"right\">\r\n      \r\n\r\n      \r\n      \r\n    \r\n    </div>}\r\n    </div>\r\n    \r\n  );\r\n};\r\n\r\nexport default Search;\r\n\r\n//text-white sm hidden h-6 w-6 sm:inline\r\n","position":{"line":82,"character":25}}]